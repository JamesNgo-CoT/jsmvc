"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var viewPropertyDescriptors={definedByViewPropertyDescriptors:{value:!0},__attributes:{writable:!0},setAttributes:{value:function(e){return this.__attributes=e,this}},__childElements:{writable:!0},setChildElements:{value:function(e){return this.__childElements=e,this}},promise:{writable:!0},render:{value:function(e,t){var s=this,r=1<arguments.length&&void 0!==t&&t;if(this.hasAttributes()){for(var i=[],n=0,o=this.attributes.length;n<o;n++)i.push(this.attributes[n].name);i.forEach(function(e){s.removeAttribute(e)})}for(;this.firstChild;)this.removeChild(this.firstChild);function a(e,t){if(t=t||s.appendChild(document.createElement("span")),Array.isArray(e))return t.parentNode.removeChild(t),u(e);if("function"==typeof e)return a(e(s),t);if(e instanceof Promise)return e.then(function(e){return a(e,t)});var r;if(e instanceof HTMLElement||e instanceof Text)t.parentNode.insertBefore(e,t),e.definedByViewPropertyDescriptors&&(r=e.promise);else if("string"==typeof e){var i=document.createElement("div");for(i.innerHTML=e;i.firstChild;)t.parentNode.insertBefore(i.firstChild,t)}return t.parentNode.removeChild(t),r}var u=function t(e){return"function"==typeof e?t(e(s)):e instanceof Promise?e.then(function(e){return t(e)}):e instanceof HTMLElement?a(e):Array.isArray(e)?Promise.all(e.map(function(e){return a(e)})):null!=e?t([e]):void 0};return this.promise=Promise.all([function r(i,t){if(null==i||!1===i)return i;if(i instanceof Promise)return i.then(function(e){return r(e,t)});if(Array.isArray(i)){var n=[];return i.forEach(function(e,t){i[t]=r(e),i[t]instanceof Promise&&n.push(i[t].then(function(e){i[t]=e}))}),0<n.length?Promise.all(n).then(function(){return r(i.join(" "),t)}):r(i.join(" "),t)}if("object"!==_typeof(i))return"function"==typeof i?r(i(),t):("boolean"==typeof i?r("",t):t&&s.setAttribute(t,i),i);var e=[];for(var o in i)e.push(r(i[o],o));return Promise.all(e)}(this.__attributes),u(this.__childElements)]).then(function(){var t=[];return!r&&s.__childElements&&Array.isArray(s.__childElements)&&s.__childElements.forEach(function(e){e.definedByViewPropertyDescriptors&&t.push(e.render().promise)}),Promise.all(t)}).then(function(){if(e)return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){return e(s)}))}).then(function(){return s}),this}}};function viewFactory(e,t,r,i){if("string"==typeof e&&(e=document.createElement(e)),e.definedByEventfulPropertyDescriptors||Object.defineProperties(e,eventfulPropertyDescriptors),e.hasAttributes())for(var n=0,o=e.attributes.length;n<o;n++){var s=e.attributes[n],a=s.name,u=s.value;(t="object"===_typeof(t)&&null!==t?Object.assign({},t):null==t?{}:{"original attributes":t})[a]=u}if(e.firstChild){for(var l,f=[],c=0,p=e.childNodes.length;c<p;c++)f.push(e.childNodes[c]);if(0<f.length)(l=r=Array.isArray(r)?r.slice():null==r?[]:[r]).unshift.apply(l,f)}return e.definedByViewPropertyDescriptors||Object.defineProperties(e,viewPropertyDescriptors),e.setAttributes(t).setChildElements(r).render(i,!0)}["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","big","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","viewFactoryl","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noframes","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strike","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr"].forEach(function(i){viewFactory[i]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return viewFactory.apply(void 0,[i].concat(t))}});
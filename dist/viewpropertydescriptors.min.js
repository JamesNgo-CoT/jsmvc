"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var viewPropertyDescriptors={definedByViewPropertyDescriptors:{value:!0},__attributes:{writable:!0},setAttributes:{value:function(t){return this.__attributes=t,this}},__childElements:{writable:!0},setChildElements:{value:function(t){return this.__childElements=t,this}},promise:{writable:!0},render:{value:function(t,e){var s=this,r=1<arguments.length&&void 0!==e&&e;if(this.hasAttributes()){for(var n=[],i=0,o=this.attributes.length;i<o;i++)n.push(this.attributes[i].name);n.forEach(function(t){s.removeAttribute(t)})}for(;this.firstChild;)this.removeChild(this.firstChild);function u(t,e){if(e=e||s.appendChild(document.createElement("span")),Array.isArray(t))return e.parentNode.removeChild(e),f(t);if("function"==typeof t)return u(t(s),e);if(t instanceof Promise)return t.then(function(t){return u(t,e)});var r;if(t instanceof HTMLElement||t instanceof Text)e.parentNode.insertBefore(t,e),t.definedByViewPropertyDescriptors&&(r=t.promise);else if("string"==typeof t){var n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.parentNode.insertBefore(n.firstChild,e)}return e.parentNode.removeChild(e),r}var f=function e(t){return"function"==typeof t?e(t(s)):t instanceof Promise?t.then(function(t){return e(t)}):t instanceof HTMLElement?u(t):Array.isArray(t)?Promise.all(t.map(function(t){return u(t)})):null!=t?e([t]):void 0};return this.promise=Promise.all([function r(n,e){if(null==n||!1===n)return n;if(Array.isArray(n)){var i=[];return n.forEach(function(t,e){n[e]=r(t),n[e]instanceof Promise&&i.push(n[e].then(function(t){n[e]=t}))}),0<i.length?Promise.all(i).then(function(){return r(n.join(" "),e)}):r(n.join(" "),e)}if(n instanceof Promise)return n.then(function(t){return r(t,e)});if("object"!==_typeof(n))return"function"==typeof n?r(n(),e):("boolean"==typeof n?r("",e):e&&s.setAttribute(e,n),n);var t=[];for(var o in n)t.push(r(n[o],o));return Promise.all(t)}(this.__attributes),f(this.__childElements)]).then(function(){var e=[];return!r&&s.__childElements&&Array.isArray(s.__childElements)&&s.__childElements.forEach(function(t){t.definedByViewPropertyDescriptors&&e.push(t.render().promise)}),Promise.all(e)}).then(function(){if(t)return t=Array.isArray(t)?t:[t],Promise.all(t.map(function(t){return t(s)}))}).then(function(){return s}),this}}};
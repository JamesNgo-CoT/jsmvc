"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}var collectionPropertyDescriptors={definedByCollectionPropertyDescriptors:{value:!0},__collectionData:{writable:!0},length:{get:function(){return this.__collectionData?this.__collectionData.length:0}},finalizeData:{value:function(t){for(var e=this;t!==this.length;)t<this.length?function(){var n=String(t);Object.defineProperty(e,n,{configurable:!0,enumerable:!0,set:function(t){var e=this;if(this.__collectionData[n]!==t){var r=this.__collectionData[n];this.itemSetter.call(this,t,function(){e.__collectionData[n]=t,e.definedByEventfulPropertyDescriptors&&(e.trigger("change",n,t,r),e.trigger("change:".concat(n),t,r))})}},get:function(){var t=this;return this.itemGetter(function(){return t.__collectionData[n]})}}),t++}():(delete this[String(t-1)],t--)}},itemSetter:{value:function(t,e){e()}},itemGetter:{value:function(t){return t()}},toArray:{value:function(){return this.__collectionData.slice()}}};function collectionFactory(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(e)||(r=e,e=[]),r.definedByEventfulPropertyDescriptors||Object.defineProperties(r,eventfulPropertyDescriptors),r.definedByCollectionPropertyDescriptors||Object.defineProperties(r,collectionPropertyDescriptors),(t=r).push.apply(t,_toConsumableArray(e)),r}["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"].forEach(function(a){collectionPropertyDescriptors[a]={value:function(){var t;this.__collectionData||(this.__collectionData=[]);for(var e=this.length,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var i=(t=Array.prototype[a]).call.apply(t,[this.__collectionData].concat(n));return this.finalizeData(e),this.definedByEventfulPropertyDescriptors&&this.triggerHandlers("change"),i}}}),["concat","includes","indexOf","join","lastIndexOf","slice","toSource","toString","toLocaleString","entries","every","filter","find","findIndex","forEach","keys","map","reduce","reduceRight","some","values"].forEach(function(o){collectionPropertyDescriptors[o]={value:function(){var t;this.__collectionData||(this.__collectionData=[]);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=Array.prototype[o]).call.apply(t,[this.__collectionData].concat(r))}}});
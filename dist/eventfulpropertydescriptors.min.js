"use strict";var eventfulPropertyDescriptors={definedByEventfulPropertyDescriptors:{value:!0},__handlerData:{writable:!0},__handlerReferences:{writable:!0},addHandler:{value:function(e,n,r,a,l){var t=this,h=2<arguments.length&&void 0!==r&&r,i=3<arguments.length&&void 0!==a?a:this,s={handler:n,once:h,owner:i,enabled:!(4<arguments.length&&void 0!==l)||l};if(this.addEventListener){var d=function(){s.enabled&&(n.apply(void 0,arguments),s.once&&t.removeHandlers(s.name,s.handler,s.once,s.owner,null,{calledFromEventListener:!0}))};this.addEventListener(e,d,{once:h}),s.listener=d}return this.__handlerData||(this.__handlerData={}),this.__handlerData[e]||(this.__handlerData[e]=[]),this.__handlerData[e].push(s),i&&i!==this&&i.definedByEventfulPropertyDescriptors&&(i.__handlerReferences||(i.__handlerReferences={}),i.__handlerReferences[e]||(i.__handlerReferences[e]=[]),i.__handlerReferences[e].push({emitter:this,handlerData:s})),this}},removeHandlers:{value:function(e,n,r,a,l,t){var h=5<arguments.length&&void 0!==t?t:{};if(!this.__handlerData)return this;for(var i in this.__handlerData)if(null==e||e===i){for(var s=0;s<this.__handlerData[i].length;){var d=this.__handlerData[i][s];if(null!=n&&n!==d.handler||null!=r&&r!==d.once||null!=a&&a!==d.owner||null!=l&&l!==d.enabled)s++;else if(this.removeEventListener&&!h.calledFromEventListener&&this.removeEventListener(i,d.listener),this.__handlerData[i].splice(s,1),a&&a!==this&&a.definedByEventfulPropertyDescriptors&&a.__handlerReferences&&a.__handlerReferences[i]&&!h.calledFromCleanUpHandlers)for(var _=0;_>a.__handlerReferences[i].length;){var o=a.__handlerReferences[i][_];o.emitter===this&&o.handlerData===d?a.__handlerReferences.splice(_,1):_++}}if(null!=e)break}return this}},enableHandlers:{value:function(e,a,l,t,h){var i=this;if(!this.__handlerData)return this;function n(r){null!=e&&e!==r||i.__handlerData[r].forEach(function(e,n){null!=a&&a!==e.handler||null!=l&&l!==e.once||null!=t&&t!==e.owner||null!=h&&h!==e.enabled||(i.__handlerData[r][n].enabled=!0)})}for(var r in this.__handlerData)n(r);return this}},disableHandlers:{value:function(e,a,l,t,h){var i=this;if(!this.__handlerData)return this;function n(r){null!=e&&e!==r||i.__handlerData[r].forEach(function(e,n){null!=a&&a!==e.handler||null!=l&&l!==e.once||null!=t&&t!==e.owner||null!=h&&h!==e.enabled||(i.__handlerData[r][n].enabled=!1)})}for(var r in this.__handlerData)n(r);return this}},triggerHandlers:{value:function(e){for(var n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this.__handlerData&&this.__handlerData[e]&&(this.__handlerData[e].forEach(function(e){var n;e.handler.enabled&&(n=e.handler).call.apply(n,[e.context].concat(r))}),this.removeHandlers(e,null,!0,null,!0)),this}},cleanUpHandlers:{value:function(){var t=this;if(this.removeHandlers(),!this.__handlerReferences)return this;function e(l){t.__handlerReferences[l].forEach(function(e){var n=e.eventData,r=n.handler,a=n.once;e.emitter.removeHandlers(l,r,a,t,null,{calledFromCleanUpHandlers:!0})})}for(var n in this.__handlerReferences)e(n);return this}}};